const _="modulepreload",j=function(e){return"/"+e},y={},W=function(t,r,s){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=j(a),a in y)return;y[a]=!0;const i=a.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!s)for(let l=n.length-1;l>=0;l--){const h=n[l];if(h.href===a&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":_,i||(o.as="script",o.crossOrigin=""),o.href=a,document.head.appendChild(o),i)return new Promise((l,h)=>{o.addEventListener("load",l),o.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})},ne={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:e=>`Invalid arguments passed to${e?` <${e}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."},oe={name:"ImageMissingAlt",title:"Missing alt property.",message:"The alt property is required.",hint:"The `alt` property is important for the purpose of accessibility, without it users using screen readers or other assistive technologies won't be able to understand what your image is supposed to represent. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-alt for more information."},x={name:"InvalidImageService",title:"Error while loading image service.",message:"There was an error loading the configured image service. Please see the stack trace for more information."},v={name:"MissingImageDimension",title:"Missing image dimensions",message:(e,t)=>`Missing ${e==="both"?"width and height attributes":`${e} attribute`} for ${t}. When using remote images, both dimensions are always required in order to avoid CLS.`,hint:"If your image is inside your `src` folder, you probably meant to import it instead. See [the Imports guide for more information](https://docs.astro.build/en/guides/imports/#other-assets)."},S={name:"UnsupportedImageFormat",title:"Unsupported image format",message:(e,t,r)=>`Received unsupported format \`${e}\` from \`${t}\`. Currently only ${r.join(", ")} are supported by our image services.`,hint:"Using an `img` tag directly instead of the `Image` component might be what you're looking for."},H={name:"UnsupportedImageConversion",title:"Unsupported image conversion",message:"Converting between vector (such as SVGs) and raster (such as PNGs and JPEGs) images is not currently supported."},I={name:"ExpectedImage",title:"Expected src to be an image.",message:(e,t,r)=>`Expected \`src\` property for \`getImage\` or \`<Image />\` to be either an ESM imported image or a string with the path of a remote image. Received \`${e}\` (type: \`${t}\`).

Full serialized options received: \`${r}\`.`,hint:"This error can often happen because of a wrong path. Make sure the path to your image is correct. If you're passing an async function, make sure to call and await it."},A={name:"ExpectedImageOptions",title:"Expected image options.",message:e=>`Expected getImage() parameter to be an object. Received \`${e}\`.`},q={name:"IncompatibleDescriptorOptions",title:"Cannot set both `densities` and `widths`",message:"Only one of `densities` or `widths` can be specified. In most cases, you'll probably want to use only `widths` if you require specific widths.",hint:"Those attributes are used to construct a `srcset` attribute, which cannot have both `x` and `w` descriptors."},T={name:"LocalImageUsedWrongly",title:"Local images must be imported.",message:e=>`\`Image\`'s and \`getImage\`'s \`src\` parameter must be an imported image or an URL, it cannot be a string filepath. Received \`${e}\`.`,hint:"If you want to use an image from your `src` folder, you need to either import it or if the image is coming from a content collection, use the [image() schema helper](https://docs.astro.build/en/guides/images/#images-in-content-collections) See https://docs.astro.build/en/guides/images/#src-required for more information on the `src` property."},ce={name:"AstroGlobUsedOutside",title:"Astro.glob() used outside of an Astro file.",message:e=>`\`Astro.glob(${e})\` can only be used in \`.astro\` files. \`import.meta.glob(${e})\` can be used instead to achieve a similar result.`,hint:"See Vite's documentation on `import.meta.glob` for more information: https://vitejs.dev/guide/features.html#glob-import"},le={name:"AstroGlobNoMatch",title:"Astro.glob() did not match any files.",message:e=>`\`Astro.glob(${e})\` did not return any matching files. Check the pattern for typos.`},F={name:"MissingSharp",title:"Could not find Sharp.",message:"Could not find Sharp. Please install Sharp (`sharp`) manually into your project or migrate to another image service.",hint:"See Sharp's installation instructions for more information: https://sharp.pixelplumbing.com/install. If you are not relying on `astro:assets` to optimize, transform, or process any images, you can configure a passthrough image service instead of installing Sharp. See https://docs.astro.build/en/reference/errors/missing-sharp for more information.\n\nSee https://docs.astro.build/en/guides/images/#default-image-service for more information on how to migrate to another image service."};function k(e){return e.replace(/\r\n|\r(?!\n)|\n/g,`
`)}function C(e,t){if(!t||t.line===void 0||t.column===void 0)return"";const r=k(e).split(`
`).map(i=>i.replace(/\t/g,"  ")),s=[];for(let i=-2;i<=2;i++)r[t.line+i]&&s.push(t.line+i);let n=0;for(const i of s){let c=`> ${i}`;c.length>n&&(n=c.length)}let a="";for(const i of s){const c=i===t.line-1;a+=c?"> ":"  ",a+=`${i+1} | ${r[i]}
`,c&&(a+=`${Array.from({length:n}).join(" ")}  | ${Array.from({length:t.column}).join(" ")}^
`)}return a}class d extends Error{loc;title;hint;frame;type="AstroError";constructor(t,...r){super(...r);const{name:s,title:n,message:a,stack:i,location:c,hint:g,frame:o}=t;this.title=n,this.name=s,a&&(this.message=a),this.stack=i||this.stack,this.loc=c,this.hint=g,this.frame=o}setLocation(t){this.loc=t}setName(t){this.name=t}setMessage(t){this.message=t}setHint(t){this.hint=t}setFrame(t,r){this.frame=C(t,r)}static is(t){return t.type==="AstroError"}}function N(e){return e.endsWith("/")?e.slice(0,e.length-1):e}function D(e){return e.startsWith("/")?e.substring(1):e}function z(e){return e.replace(/^\/|\/$/g,"")}function G(e){return typeof e=="string"||e instanceof String}function V(...e){return e.filter(G).map((t,r)=>r===0?N(t):r===e.length-1?D(t):z(t)).join("/")}function O(e){return/^(http|ftp|https|ws):?\/\//.test(e)||e.startsWith("data:")}const E=["jpeg","jpg","png","tiff","webp","gif","svg","avif"],L="webp",U=["src","width","height","format","quality"];function B(e){return e?"transform"in e:!1}function J(e){let t=parseInt(e);return Number.isNaN(t)?e:t}const f={propertiesToHash:U,validateOptions(e){if(!e.src||typeof e.src!="string"&&typeof e.src!="object")throw new d({...I,message:I.message(JSON.stringify(e.src),typeof e.src,JSON.stringify(e,(t,r)=>r===void 0?null:r))});if(p(e.src)){if(!E.includes(e.src.format))throw new d({...S,message:S.message(e.src.format,e.src.src,E)});if(e.widths&&e.densities)throw new d(q);if(e.src.format==="svg"&&(e.format="svg"),e.src.format==="svg"&&e.format!=="svg"||e.src.format!=="svg"&&e.format==="svg")throw new d(H)}else{if(e.src.startsWith("/@fs/")||!O(e.src)&&!e.src.startsWith("/"))throw new d({...T,message:T.message(e.src)});let t;if(!e.width&&!e.height?t="both":!e.width&&e.height?t="width":e.width&&!e.height&&(t="height"),t)throw new d({...v,message:v.message(t,e.src)})}return e.format||(e.format=L),e.width&&(e.width=Math.round(e.width)),e.height&&(e.height=Math.round(e.height)),e},getHTMLAttributes(e){const{targetWidth:t,targetHeight:r}=$(e),{src:s,width:n,height:a,format:i,quality:c,densities:g,widths:o,formats:l,...h}=e;return{...h,width:t,height:r,loading:h.loading??"lazy",decoding:h.decoding??"async"}},getSrcSet(e){const t=[],{targetWidth:r}=$(e),{widths:s,densities:n}=e,a=e.format??L;let i=e.width,c=1/0;p(e.src)&&(i=e.src.width,c=i);const{width:g,height:o,...l}=e,h=[];if(n){const u=n.map(m=>typeof m=="number"?m:parseFloat(m)),w=u.sort().map(m=>Math.round(r*m));h.push(...w.map((m,P)=>({maxTargetWidth:Math.min(m,c),descriptor:`${u[P]}x`})))}else s&&h.push(...s.map(u=>({maxTargetWidth:Math.min(u,c),descriptor:`${u}w`})));for(const{maxTargetWidth:u,descriptor:w}of h){const m={...l};u!==i?m.width=u:e.width&&e.height&&(m.width=e.width,m.height=e.height),t.push({transform:m,descriptor:w,attributes:{type:`image/${a}`}})}return t},getURL(e,t){const r=new URLSearchParams;if(p(e.src))r.append("href",e.src.src);else if(ee(e.src,t))r.append("href",e.src);else return e.src;return Object.entries({w:"width",h:"height",q:"quality",f:"format"}).forEach(([a,i])=>{e[i]&&r.append(a,e[i].toString())}),`${V("/","/_image")}?${r}`},parseURL(e){const t=e.searchParams;return t.has("href")?{src:t.get("href"),width:t.has("w")?parseInt(t.get("w")):void 0,height:t.has("h")?parseInt(t.get("h")):void 0,format:t.get("f"),quality:t.get("q")}:void 0}};function $(e){let t=e.width,r=e.height;if(p(e.src)){const s=e.src.width/e.src.height;r&&!t?t=Math.round(r*s):t&&!r?r=Math.round(t/s):!t&&!r&&(t=e.src.width,r=e.src.height)}return{targetWidth:t,targetHeight:r}}function Q(e,t){return X(e,t.protocol)&&R(e,t.hostname,!0)&&K(e,t.port)&&Y(e,t.pathname,!0)}function K(e,t){return!t||t===e.port}function X(e,t){return!t||t===e.protocol.slice(0,-1)}function R(e,t,r){if(t){if(!r||!t.startsWith("*"))return t===e.hostname;if(t.startsWith("**.")){const s=t.slice(2);return s!==e.hostname&&e.hostname.endsWith(s)}else if(t.startsWith("*.")){const s=t.slice(1);return e.hostname.replace(s,"").split(".").filter(Boolean).length===1}}else return!0;return!1}function Y(e,t,r){if(t){if(!r||!t.endsWith("*"))return t===e.pathname;if(t.endsWith("/**")){const s=t.slice(0,-2);return s!==e.pathname&&e.pathname.startsWith(s)}else if(t.endsWith("/*")){const s=t.slice(0,-1);return e.pathname.replace(s,"").split("/").filter(Boolean).length===1}}else return!0;return!1}function p(e){return typeof e=="object"}function Z(e){return typeof e=="string"}function ee(e,{domains:t=[],remotePatterns:r=[]}){if(!O(e))return!1;const s=new URL(e);return t.some(n=>R(s,n))||r.some(n=>Q(s,n))}async function te(){if(!globalThis?.astroAsset?.imageService){const{default:e}=await W(()=>Promise.resolve().then(()=>ae),void 0).catch(t=>{const r=new d(x);throw r.cause=t,r});return globalThis.astroAsset||(globalThis.astroAsset={}),globalThis.astroAsset.imageService=e,e}return globalThis.astroAsset.imageService}async function he(e,t){if(!e||typeof e!="object")throw new d({...A,message:A.message(JSON.stringify(e))});const r=await te(),s={...e,src:typeof e.src=="object"&&"then"in e.src?(await e.src).default??await e.src:e.src},n=p(s.src)?s.src.clone??s.src:s.src;s.src=n;const a=r.validateOptions?await r.validateOptions(s,t):s,i=r.getSrcSet?await r.getSrcSet(a,t):[];let c=await r.getURL(a,t),g=await Promise.all(i.map(async o=>({transform:o.transform,url:await r.getURL(o.transform,t),descriptor:o.descriptor,attributes:o.attributes})));if(B(r)&&globalThis.astroAsset.addStaticImage&&!(Z(a.src)&&c===a.src)){const o=r.propertiesToHash??U;c=globalThis.astroAsset.addStaticImage(a,o),g=i.map(l=>({transform:l.transform,url:globalThis.astroAsset.addStaticImage(l.transform,o),descriptor:l.descriptor,attributes:l.attributes}))}return{rawOptions:s,options:a,src:c,srcSet:{values:g,attribute:g.map(o=>`${o.url} ${o.descriptor}`).join(", ")},attributes:r.getHTMLAttributes!==void 0?await r.getHTMLAttributes(a,t):{}}}let b;const M={low:25,mid:50,high:80,max:100};async function re(){let e;try{e=(await W(()=>import("../index.bd88c03f.js").then(t=>t.i),[])).default}catch{throw new d(F)}return e}const se={validateOptions:f.validateOptions,getURL:f.getURL,parseURL:f.parseURL,getHTMLAttributes:f.getHTMLAttributes,getSrcSet:f.getSrcSet,async transform(e,t){b||(b=await re());const r=t;if(r.format==="svg")return{data:e,format:"svg"};let s=b(e,{failOnError:!1,pages:-1});if(s.rotate(),r.height&&!r.width?s.resize({height:Math.round(r.height)}):r.width&&s.resize({width:Math.round(r.width)}),r.format){let i;if(r.quality){const c=J(r.quality);typeof c=="number"?i=c:i=r.quality in M?M[r.quality]:void 0}s.toFormat(r.format,{quality:i})}const{data:n,info:a}=await s.toBuffer({resolveWithObject:!0});return{data:n,format:a.format}}};var ie=se;const ae=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));export{d as A,oe as I,W as _,ce as a,le as b,ne as c,he as g,p as i};
